name: test

on:
  push:
    branches:
      - master

env:
  PRIVATE_KEY: ${{ vars.PRIVATE_KEY }}
  TMP_SECRET: ${{ secrets.TMP_SECRET }}

jobs:
  test:
    runs-on: ubuntu-22.04
    steps:
      - run: echo 122333
      - run: echo $TMP_SECRET > direct_secret_env.txt
      - run: |
          echo "ENV_SECRET<<:" >> $GITHUB_ENV
          echo $TMP_SECRET >> $GITHUB_ENV
          echo ":" >> $GITHUB_ENV
      - run: echo $ENV_SECRET > env_secret_env.txt
      - run: echo $PRIVATE_KEY > key.txt
      - run: |
          echo "TMP_ENV<<:" >> $GITHUB_ENV
          echo $PRIVATE_KEY >> $GITHUB_ENV
          echo ":" >> $GITHUB_ENV
      - run: echo $TMP_ENV > env.txt
      - uses: actions/upload-artifact@v3
        with:
          name: tmp_env
          path: |
            key.txt
            env.txt
            env_secret_env.txt
            direct_secret_env.txt
